<!Doctype>
<html>
<head>
<title>canvas画线——七巧板</title>
</head>
<body>
<canvas id = "canvas" style = "border:3px solid #004542;margin:30 auto;display:block;">您的浏览器不支持canvas标签，请升级浏览器或更换浏览器。。。</canvas>
<script src = "data.js" type = "text/javascript"></script>
<script>
var r = 10;
var d = 2*(r+1);
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var W = 68 * d;
var H = 15 *d;
canvas.width = W;
canvas.height = H;
ctx.fillStyle = "#003388";

function drawClock( context )
{
	context.clearRect(0,0,W,H);
	var date = new Date();
	var hour = date.getHours();
	var min = date.getMinutes();
	var second = date.getSeconds();
	var n1 = parseInt(hour / 10);
	var n2 = parseInt(hour % 10);
	drawNum(n1,0);
	drawNum(n2,8);
	var n3 = parseInt(min / 10);
	var n4 = parseInt(min % 10);
	
	var n5 = parseInt(second / 10);
	var n6 = parseInt(second % 10);
	
	drawNum(n1,0);
	drawNum(n2,8);
	drawNum(data.length-1, 8*2);
	drawNum(n3,8*2+5);
	drawNum(n4,8*3+5);
	drawNum(data.length-1, 8*4 + 5);
	drawNum(n5,8*4+5*2);
	drawNum(n6,8*5+5*2);
}		
function drawNum( number , offset )
{
	var num = data[number];
	for( var j = 0 ; j < num.length ; j++ )
	{
		for( var p = 0 ; p < num[j].length ; p++)
		{
			if( num[j][p] )
			{
				ctx.beginPath();
				ctx.arc( offset*d+(p+1/2)*d +5*d ,(j+1/2)*d + 2*d,r, 0, 2*Math.PI, false );
				ctx.fill();
				ctx.closePath();
				
			}	
		}
	}		
}	
var timer = setInterval(function(){
	drawClock(ctx);

},1000)

</script>
</body>
</html>